{
	"artifactVersion": "1.0.0",
	"compilerVersion": "1.0.0",
	"sourceSpecHash": "e4b44d8fea2cbb1b58c3da520157f34cf4c6e25589c442d4b1e20c98033ceb46",
	"sections": {
		"app": {
			"id": "hello_world_demo",
			"name": "Hello World Demo",
			"tz": "UTC"
		},
		"domain": {
			"collections": {},
			"signals": {
				"message.created": {},
				"message.deleted": {}
			},
			"capabilities": {
				"notifications.send": {
					"version": "1.0.0"
				},
				"ids.generate": {
					"version": "1.0.0"
				},
				"legacy.audit": {
					"version": "1.0.0"
				}
			},
			"actions": {
				"guestbook.submit": {}
			},
			"flows": {
				"rejection_followup": {}
			},
			"projections": {
				"latest_messages": {
					"strategy": "from_collection",
					"collectionId": "messages",
					"fields": [
						{
							"source": "id",
							"as": "id"
						},
						{
							"source": "message",
							"as": "message"
						}
					],
					"sort": [
						{
							"field": "created_at",
							"direction": "desc"
						}
					],
					"pagination": {
						"mode": "page",
						"pageArg": "page",
						"pageSizeArg": "page_size",
						"defaultPage": 1,
						"defaultPageSize": 10,
						"maxPageSize": 50
					}
				},
				"messages_with_authors": {
					"strategy": "from_collection",
					"collectionId": "messages",
					"fields": [
						{
							"source": "id",
							"as": "id"
						},
						{
							"source": "author_name",
							"as": "author_name"
						}
					],
					"sort": [
						{
							"field": "author_name",
							"direction": "asc"
						}
					],
					"pagination": {
						"mode": "page",
						"pageArg": "page",
						"pageSizeArg": "page_size",
						"defaultPage": 1,
						"defaultPageSize": 10,
						"maxPageSize": 50
					}
				}
			}
		},
		"session": {
			"fields": {}
		},
		"views": {
			"nodes": [
				{
					"id": "messages_list",
					"type": "list"
				}
			],
			"screens": [
				{
					"id": "home",
					"data": {
						"messages": {
							"query": "list_messages",
							"refresh_on_signals": ["message.created", "message.deleted"]
						}
					}
				}
			]
		},
		"routes": [
			{
				"id": "home_route",
				"access": {
					"roles": ["authenticated"]
				},
				"renders": "home"
			}
		],
		"personas": {
			"frustrated_enterprise_buyer": {
				"description": "Senior ops manager with low patience who expects direct answers."
			}
		},
		"scenarios": {
			"happy_path_message_submission": {
				"context": {
					"persona": "frustrated_enterprise_buyer"
				},
				"steps": [
					{
						"trigger": {
							"mutation": "submit_message"
						},
						"expect": {
							"query": "list_messages",
							"projection": "latest_messages",
							"flow_completed": "rejection_followup"
						}
					}
				]
			}
		},
		"wiring": {
			"surfaces": {
				"http": {
					"queries": {
						"list_messages": {
							"bind": {
								"page": "query.page",
								"page_size": "query.page_size",
								"q": "query.q"
							},
							"method": "GET",
							"path": "/messages"
						}
					},
					"mutations": {
						"submit_message": {
							"bind": {
								"message": "body.message"
							},
							"method": "POST",
							"path": "/messages"
						}
					},
					"routes": {
						"home_route": {
							"bind": {}
						}
					}
				}
			},
			"requirements": {
				"capabilities": [
					{
						"portId": "notifications.send",
						"portVersion": "1.0.0",
						"mode": "delegated"
					},
					{
						"portId": "ids.generate",
						"portVersion": "1.0.0",
						"mode": "local"
					},
					{
						"portId": "legacy.audit",
						"portVersion": "1.0.0",
						"mode": "unreachable"
					}
				]
			}
		},
		"access": {
			"default_policy": "deny",
			"roles": {
				"anonymous": {},
				"authenticated": {},
				"admin": {}
			}
		}
	},
	"entrypoints": {
		"query:list_messages": {
			"id": "list_messages",
			"kind": "query",
			"inputFields": {
				"page": {
					"scalarType": "int",
					"required": false
				},
				"page_size": {
					"scalarType": "int",
					"required": false
				},
				"q": {
					"scalarType": "text",
					"required": false
				}
			},
			"defaultInput": {
				"page": 1,
				"page_size": 10
			},
			"accessRoles": ["authenticated"],
			"schemaArtifactKey": "entrypoint.query.list_messages.input"
		},
		"mutation:submit_message": {
			"id": "submit_message",
			"kind": "mutation",
			"inputFields": {
				"message": {
					"scalarType": "text",
					"required": true
				}
			},
			"defaultInput": {},
			"accessRoles": ["authenticated"],
			"schemaArtifactKey": "entrypoint.mutation.submit_message.input"
		}
	},
	"bindings": {
		"http:query:list_messages": {
			"surfaceId": "http",
			"entrypointKind": "query",
			"entrypointId": "list_messages",
			"fieldBindings": {
				"page": "query.page",
				"page_size": "query.page_size",
				"q": "query.q"
			}
		},
		"http:mutation:submit_message": {
			"surfaceId": "http",
			"entrypointKind": "mutation",
			"entrypointId": "submit_message",
			"fieldBindings": {
				"message": "body.message"
			}
		}
	},
	"dispatchPlans": {
		"artifactVersion": "1.0.0",
		"plans": {
			"http": {
				"surfaceId": "http",
				"handlers": [
					{
						"handlerId": "http:mutation:submit_message",
						"surfaceId": "http",
						"matcher": {
							"surfaceType": "http",
							"clauses": [
								{
									"key": "method",
									"op": "eq",
									"value": "POST"
								},
								{
									"key": "path",
									"op": "path_template",
									"value": "/messages"
								}
							]
						},
						"specificity": 240,
						"target": {
							"entrypointKind": "mutation",
							"entrypointId": "submit_message",
							"fieldBindings": {
								"message": "body.message"
							}
						}
					},
					{
						"handlerId": "http:query:list_messages",
						"surfaceId": "http",
						"matcher": {
							"surfaceType": "http",
							"clauses": [
								{
									"key": "method",
									"op": "eq",
									"value": "GET"
								},
								{
									"key": "path",
									"op": "path_template",
									"value": "/messages"
								}
							]
						},
						"specificity": 240,
						"target": {
							"entrypointKind": "query",
							"entrypointId": "list_messages",
							"fieldBindings": {
								"page": "query.page",
								"page_size": "query.page_size",
								"q": "query.q"
							}
						}
					},
					{
						"handlerId": "http:route:home_route",
						"surfaceId": "http",
						"matcher": {
							"surfaceType": "http",
							"clauses": [
								{
									"key": "routeId",
									"op": "eq",
									"value": "home_route"
								}
							]
						},
						"specificity": 40,
						"target": {
							"entrypointKind": "route",
							"entrypointId": "home_route",
							"fieldBindings": {}
						}
					}
				]
			}
		}
	},
	"reachabilityRequirements": {
		"ids.generate@1.0.0": {
			"portId": "ids.generate",
			"portVersion": "1.0.0",
			"mode": "local"
		},
		"legacy.audit@1.0.0": {
			"portId": "legacy.audit",
			"portVersion": "1.0.0",
			"mode": "unreachable"
		},
		"notifications.send@1.0.0": {
			"portId": "notifications.send",
			"portVersion": "1.0.0",
			"mode": "delegated"
		}
	},
	"bindingRequirementsArtifact": {
		"artifactId": "CompiledBindingRequirements",
		"artifactVersion": "1.0.0",
		"requirements": {
			"ids.generate@1.0.0": {
				"portId": "ids.generate",
				"portVersion": "1.0.0",
				"mode": "local"
			},
			"legacy.audit@1.0.0": {
				"portId": "legacy.audit",
				"portVersion": "1.0.0",
				"mode": "unreachable"
			},
			"notifications.send@1.0.0": {
				"portId": "notifications.send",
				"portVersion": "1.0.0",
				"mode": "delegated"
			}
		},
		"compatibility": {
			"resolverInputContract": "CapabilityReachabilityRequirement@1.0.0",
			"runtimeResolutionContract": "CapabilityBindingResolution@1.0.0",
			"supportedModes": ["local", "delegated", "unreachable"]
		},
		"artifactHash": "4e4a6f6bba46de0938d5ed6ccb04c19c46ec510388ba26f04142d754655151bd"
	},
	"artifactManifest": {
		"artifactVersion": "2.0.0",
		"hashAlgorithm": "sha256",
		"artifacts": {
			"authoringCanonicalModel": {
				"refVersion": "1.0.0",
				"lane": "authoring",
				"artifactId": "CompiledAuthoringCanonicalModel",
				"artifactVersion": "1.0.0",
				"artifactHash": "c2a9ff1a37af83024c2006fb4a542cbba0c8407bfdcaed9a36e2b2df82aa7023",
				"hashAlgorithm": "sha256"
			},
			"bindingRequirements": {
				"refVersion": "1.0.0",
				"lane": "marketplace",
				"artifactId": "CompiledBindingRequirements",
				"artifactVersion": "1.0.0",
				"artifactHash": "045a28a73061e163020bd1f6a4080a366e4afeb201783accc16120005fc286d8",
				"hashAlgorithm": "sha256",
				"compatibility": {
					"resolverInputContract": "CapabilityReachabilityRequirement@1.0.0",
					"runtimeResolutionContract": "CapabilityBindingResolution@1.0.0",
					"supportedModes": ["local", "delegated", "unreachable"]
				}
			},
			"domainRuntimeIR": {
				"refVersion": "1.0.0",
				"lane": "runtime",
				"artifactId": "CompiledDomainRuntimeIR",
				"artifactVersion": "1.0.0",
				"artifactHash": "5711050ba66cad4c2b5a4c675b06bb04d35915a821269ff26d225c794bcb7650",
				"hashAlgorithm": "sha256"
			},
			"projectionIR": {
				"refVersion": "1.0.0",
				"lane": "runtime",
				"artifactId": "CompiledProjectionIR",
				"artifactVersion": "1.0.0",
				"artifactHash": "0bea3244ad34667e0a95dea186ce6fd8d34ae9d1bb6aa292286f91398085b966",
				"hashAlgorithm": "sha256"
			},
			"qualityConformanceSeed": {
				"refVersion": "1.0.0",
				"lane": "quality",
				"artifactId": "CompiledQualityConformanceSeed",
				"artifactVersion": "1.0.0",
				"artifactHash": "71c6501b3af40d4827556c62d78809cb2c5d4e5c30728d2b3e75c96b06889547",
				"hashAlgorithm": "sha256"
			},
			"runtimeEntrypointContracts": {
				"refVersion": "1.0.0",
				"lane": "runtime",
				"artifactId": "CompiledRuntimeEntrypointContracts",
				"artifactVersion": "1.0.0",
				"artifactHash": "37aa04c94d81c69dafa3772052b01ae399c269b9926754fd9a6acc01d19b49ca",
				"hashAlgorithm": "sha256"
			},
			"scenarioIR": {
				"refVersion": "1.0.0",
				"lane": "quality",
				"artifactId": "CompiledScenarioPlanSet",
				"artifactVersion": "1.0.0",
				"artifactHash": "d8c778097fd3d9691ae7b4d1d933d5b968d39a0455f871273841be301ddaa0e8",
				"hashAlgorithm": "sha256"
			},
			"sessionIR": {
				"refVersion": "1.0.0",
				"lane": "runtime",
				"artifactId": "CompiledSessionIR",
				"artifactVersion": "1.0.0",
				"artifactHash": "f2551fae752500ca6218f1fc15acaac01882c809b9c2912907e6e3c8c5607b7c",
				"hashAlgorithm": "sha256"
			},
			"viewRenderIR": {
				"refVersion": "1.0.0",
				"lane": "runtime",
				"artifactId": "CompiledViewRenderIR",
				"artifactVersion": "1.0.0",
				"artifactHash": "2d730545cc4d3716fd921f4d8c5455bcde78b8e7a56d45039134487a9d6c7cef",
				"hashAlgorithm": "sha256"
			}
		},
		"aggregateHash": "1d97162ecbf91b356b296fc3c73e2aa2f198482d87966bcf7601b4f9028548a3"
	},
	"laneArtifacts": {
		"authoringCanonicalModel": {
			"artifactId": "CompiledAuthoringCanonicalModel",
			"artifactVersion": "1.0.0",
			"lane": "authoring",
			"hashAlgorithm": "sha256",
			"payload": {
				"sections": {
					"app": {
						"id": "hello_world_demo",
						"name": "Hello World Demo",
						"tz": "UTC"
					},
					"domain": {
						"collections": {},
						"signals": {
							"message.created": {},
							"message.deleted": {}
						},
						"capabilities": {
							"notifications.send": {
								"version": "1.0.0"
							},
							"ids.generate": {
								"version": "1.0.0"
							},
							"legacy.audit": {
								"version": "1.0.0"
							}
						},
						"actions": {
							"guestbook.submit": {}
						},
						"flows": {
							"rejection_followup": {}
						},
						"projections": {
							"latest_messages": {
								"strategy": "from_collection",
								"collectionId": "messages",
								"fields": [
									{
										"source": "id",
										"as": "id"
									},
									{
										"source": "message",
										"as": "message"
									}
								],
								"sort": [
									{
										"field": "created_at",
										"direction": "desc"
									}
								],
								"pagination": {
									"mode": "page",
									"pageArg": "page",
									"pageSizeArg": "page_size",
									"defaultPage": 1,
									"defaultPageSize": 10,
									"maxPageSize": 50
								}
							},
							"messages_with_authors": {
								"strategy": "from_collection",
								"collectionId": "messages",
								"fields": [
									{
										"source": "id",
										"as": "id"
									},
									{
										"source": "author_name",
										"as": "author_name"
									}
								],
								"sort": [
									{
										"field": "author_name",
										"direction": "asc"
									}
								],
								"pagination": {
									"mode": "page",
									"pageArg": "page",
									"pageSizeArg": "page_size",
									"defaultPage": 1,
									"defaultPageSize": 10,
									"maxPageSize": 50
								}
							}
						}
					},
					"session": {
						"fields": {}
					},
					"views": {
						"nodes": [
							{
								"id": "messages_list",
								"type": "list"
							}
						],
						"screens": [
							{
								"id": "home",
								"data": {
									"messages": {
										"query": "list_messages",
										"refresh_on_signals": ["message.created", "message.deleted"]
									}
								}
							}
						]
					},
					"routes": [
						{
							"id": "home_route",
							"access": {
								"roles": ["authenticated"]
							},
							"renders": "home"
						}
					],
					"personas": {
						"frustrated_enterprise_buyer": {
							"description": "Senior ops manager with low patience who expects direct answers."
						}
					},
					"scenarios": {
						"happy_path_message_submission": {
							"context": {
								"persona": "frustrated_enterprise_buyer"
							},
							"steps": [
								{
									"trigger": {
										"mutation": "submit_message"
									},
									"expect": {
										"query": "list_messages",
										"projection": "latest_messages",
										"flow_completed": "rejection_followup"
									}
								}
							]
						}
					},
					"wiring": {
						"surfaces": {
							"http": {
								"queries": {
									"list_messages": {
										"bind": {
											"page": "query.page",
											"page_size": "query.page_size",
											"q": "query.q"
										},
										"method": "GET",
										"path": "/messages"
									}
								},
								"mutations": {
									"submit_message": {
										"bind": {
											"message": "body.message"
										},
										"method": "POST",
										"path": "/messages"
									}
								},
								"routes": {
									"home_route": {
										"bind": {}
									}
								}
							}
						},
						"requirements": {
							"capabilities": [
								{
									"portId": "notifications.send",
									"portVersion": "1.0.0",
									"mode": "delegated"
								},
								{
									"portId": "ids.generate",
									"portVersion": "1.0.0",
									"mode": "local"
								},
								{
									"portId": "legacy.audit",
									"portVersion": "1.0.0",
									"mode": "unreachable"
								}
							]
						}
					},
					"access": {
						"default_policy": "deny",
						"roles": {
							"anonymous": {},
							"authenticated": {},
							"admin": {}
						}
					}
				},
				"references": {
					"queryIds": ["list_messages"],
					"mutationIds": ["submit_message"],
					"routeIds": ["home_route"],
					"screenIds": ["home"],
					"viewNodeIds": ["messages_list"],
					"actionIds": ["guestbook.submit"],
					"projectionIds": ["latest_messages", "messages_with_authors"],
					"capabilityRefs": [
						"ids.generate@1.0.0",
						"legacy.audit@1.0.0",
						"notifications.send@1.0.0"
					],
					"personaIds": ["frustrated_enterprise_buyer"],
					"scenarioIds": ["happy_path_message_submission"]
				}
			},
			"artifactHash": "c2a9ff1a37af83024c2006fb4a542cbba0c8407bfdcaed9a36e2b2df82aa7023"
		},
		"bindingRequirements": {
			"artifactId": "CompiledBindingRequirements",
			"artifactVersion": "1.0.0",
			"lane": "marketplace",
			"hashAlgorithm": "sha256",
			"payload": {
				"artifactId": "CompiledBindingRequirements",
				"artifactVersion": "1.0.0",
				"requirements": {
					"ids.generate@1.0.0": {
						"portId": "ids.generate",
						"portVersion": "1.0.0",
						"mode": "local"
					},
					"legacy.audit@1.0.0": {
						"portId": "legacy.audit",
						"portVersion": "1.0.0",
						"mode": "unreachable"
					},
					"notifications.send@1.0.0": {
						"portId": "notifications.send",
						"portVersion": "1.0.0",
						"mode": "delegated"
					}
				},
				"compatibility": {
					"resolverInputContract": "CapabilityReachabilityRequirement@1.0.0",
					"runtimeResolutionContract": "CapabilityBindingResolution@1.0.0",
					"supportedModes": ["local", "delegated", "unreachable"]
				},
				"artifactHash": "4e4a6f6bba46de0938d5ed6ccb04c19c46ec510388ba26f04142d754655151bd"
			},
			"artifactHash": "045a28a73061e163020bd1f6a4080a366e4afeb201783accc16120005fc286d8"
		},
		"domainRuntimeIR": {
			"artifactId": "CompiledDomainRuntimeIR",
			"artifactVersion": "1.0.0",
			"lane": "runtime",
			"hashAlgorithm": "sha256",
			"payload": {
				"artifactVersion": "1.0.0",
				"actions": {
					"guestbook.submit": {
						"actionId": "guestbook.submit",
						"steps": [],
						"session": {
							"onSuccess": "preserve",
							"onFailure": "preserve"
						}
					}
				},
				"mutations": {
					"submit_message": {
						"entrypointId": "submit_message",
						"actionId": "guestbook.submit",
						"inputBindings": {
							"message": {
								"kind": "input",
								"path": "message"
							}
						}
					}
				},
				"queries": {
					"list_messages": {
						"queryId": "list_messages"
					}
				},
				"flows": {
					"rejection_followup": {
						"flowId": "rejection_followup"
					}
				}
			},
			"artifactHash": "5711050ba66cad4c2b5a4c675b06bb04d35915a821269ff26d225c794bcb7650"
		},
		"projectionIR": {
			"artifactId": "CompiledProjectionIR",
			"artifactVersion": "1.0.0",
			"lane": "runtime",
			"hashAlgorithm": "sha256",
			"payload": {
				"artifactVersion": "1.0.0",
				"projections": {
					"latest_messages": {
						"projectionId": "latest_messages",
						"strategy": "from_collection",
						"sourceRef": {
							"projectionId": "latest_messages",
							"path": "domain.projections.latest_messages",
							"strategy": "from_collection"
						},
						"collectionId": "messages",
						"fields": [
							{
								"source": "id",
								"as": "id"
							},
							{
								"source": "message",
								"as": "message"
							}
						],
						"sort": [
							{
								"field": "created_at",
								"direction": "desc"
							}
						],
						"pagination": {
							"mode": "page",
							"pageArg": "page",
							"pageSizeArg": "page_size",
							"defaultPage": 1,
							"defaultPageSize": 10,
							"maxPageSize": 50
						}
					},
					"messages_with_authors": {
						"projectionId": "messages_with_authors",
						"strategy": "from_collection",
						"sourceRef": {
							"projectionId": "messages_with_authors",
							"path": "domain.projections.messages_with_authors",
							"strategy": "from_collection"
						},
						"collectionId": "messages",
						"fields": [
							{
								"source": "author_name",
								"as": "author_name"
							},
							{
								"source": "id",
								"as": "id"
							}
						],
						"sort": [
							{
								"field": "author_name",
								"direction": "asc"
							}
						],
						"pagination": {
							"mode": "page",
							"pageArg": "page",
							"pageSizeArg": "page_size",
							"defaultPage": 1,
							"defaultPageSize": 10,
							"maxPageSize": 50
						}
					}
				},
				"queries": {
					"list_messages": {
						"queryId": "list_messages",
						"projectionId": "latest_messages",
						"allowsAsOf": false,
						"sourceRef": {
							"queryId": "list_messages",
							"path": "queries.0.returns.projection"
						}
					}
				}
			},
			"artifactHash": "0bea3244ad34667e0a95dea186ce6fd8d34ae9d1bb6aa292286f91398085b966"
		},
		"qualityConformanceSeed": {
			"artifactId": "CompiledQualityConformanceSeed",
			"artifactVersion": "1.0.0",
			"lane": "quality",
			"hashAlgorithm": "sha256",
			"payload": {
				"queryIds": ["list_messages"],
				"mutationIds": ["submit_message"],
				"routeIds": ["home_route"],
				"screenIds": ["home"],
				"personaIds": ["frustrated_enterprise_buyer"],
				"scenarioIds": ["happy_path_message_submission"]
			},
			"artifactHash": "71c6501b3af40d4827556c62d78809cb2c5d4e5c30728d2b3e75c96b06889547"
		},
		"runtimeEntrypointContracts": {
			"artifactId": "CompiledRuntimeEntrypointContracts",
			"artifactVersion": "1.0.0",
			"lane": "runtime",
			"hashAlgorithm": "sha256",
			"payload": {
				"entrypoints": {
					"query:list_messages": {
						"id": "list_messages",
						"kind": "query",
						"inputFields": {
							"page": {
								"scalarType": "int",
								"required": false
							},
							"page_size": {
								"scalarType": "int",
								"required": false
							},
							"q": {
								"scalarType": "text",
								"required": false
							}
						},
						"defaultInput": {
							"page": 1,
							"page_size": 10
						},
						"accessRoles": ["authenticated"],
						"schemaArtifactKey": "entrypoint.query.list_messages.input"
					},
					"mutation:submit_message": {
						"id": "submit_message",
						"kind": "mutation",
						"inputFields": {
							"message": {
								"scalarType": "text",
								"required": true
							}
						},
						"defaultInput": {},
						"accessRoles": ["authenticated"],
						"schemaArtifactKey": "entrypoint.mutation.submit_message.input"
					}
				},
				"bindings": {
					"http:query:list_messages": {
						"surfaceId": "http",
						"entrypointKind": "query",
						"entrypointId": "list_messages",
						"fieldBindings": {
							"page": "query.page",
							"page_size": "query.page_size",
							"q": "query.q"
						}
					},
					"http:mutation:submit_message": {
						"surfaceId": "http",
						"entrypointKind": "mutation",
						"entrypointId": "submit_message",
						"fieldBindings": {
							"message": "body.message"
						}
					}
				},
				"dispatchPlans": {
					"artifactVersion": "1.0.0",
					"plans": {
						"http": {
							"surfaceId": "http",
							"handlers": [
								{
									"handlerId": "http:mutation:submit_message",
									"surfaceId": "http",
									"matcher": {
										"surfaceType": "http",
										"clauses": [
											{
												"key": "method",
												"op": "eq",
												"value": "POST"
											},
											{
												"key": "path",
												"op": "path_template",
												"value": "/messages"
											}
										]
									},
									"specificity": 240,
									"target": {
										"entrypointKind": "mutation",
										"entrypointId": "submit_message",
										"fieldBindings": {
											"message": "body.message"
										}
									}
								},
								{
									"handlerId": "http:query:list_messages",
									"surfaceId": "http",
									"matcher": {
										"surfaceType": "http",
										"clauses": [
											{
												"key": "method",
												"op": "eq",
												"value": "GET"
											},
											{
												"key": "path",
												"op": "path_template",
												"value": "/messages"
											}
										]
									},
									"specificity": 240,
									"target": {
										"entrypointKind": "query",
										"entrypointId": "list_messages",
										"fieldBindings": {
											"page": "query.page",
											"page_size": "query.page_size",
											"q": "query.q"
										}
									}
								},
								{
									"handlerId": "http:route:home_route",
									"surfaceId": "http",
									"matcher": {
										"surfaceType": "http",
										"clauses": [
											{
												"key": "routeId",
												"op": "eq",
												"value": "home_route"
											}
										]
									},
									"specificity": 40,
									"target": {
										"entrypointKind": "route",
										"entrypointId": "home_route",
										"fieldBindings": {}
									}
								}
							]
						}
					}
				},
				"refreshSubscriptions": {
					"list_messages": {
						"queryId": "list_messages",
						"signalIds": ["message.created", "message.deleted"]
					}
				},
				"accessPlan": {
					"defaultPolicy": "deny",
					"knownRoles": ["admin", "anonymous", "authenticated"],
					"roleDefinitions": {
						"admin": {
							"roleId": "admin",
							"extends": [],
							"deriveRules": []
						},
						"anonymous": {
							"roleId": "anonymous",
							"extends": [],
							"deriveRules": []
						},
						"authenticated": {
							"roleId": "authenticated",
							"extends": [],
							"deriveRules": []
						}
					},
					"entrypointRoles": {
						"query:list_messages": ["authenticated"],
						"mutation:submit_message": ["authenticated"]
					}
				},
				"schemaArtifacts": {
					"entrypoint.query.list_messages.input": {
						"target": "draft-2020-12",
						"schema": {
							"~standard": {
								"jsonSchema": {},
								"vendor": "zod",
								"version": 1
							},
							"$schema": "https://json-schema.org/draft/2020-12/schema",
							"additionalProperties": false,
							"properties": {
								"page": {
									"maximum": 9007199254740991,
									"minimum": -9007199254740991,
									"type": "integer"
								},
								"page_size": {
									"maximum": 9007199254740991,
									"minimum": -9007199254740991,
									"type": "integer"
								},
								"q": {
									"type": "string"
								}
							},
							"type": "object"
						},
						"hash": "16955f1a4ce08a1bac4e5a7a90fb699ea8e53504d9112a96bda8b5dc380d040d"
					},
					"entrypoint.mutation.submit_message.input": {
						"target": "draft-2020-12",
						"schema": {
							"~standard": {
								"jsonSchema": {},
								"vendor": "zod",
								"version": 1
							},
							"$schema": "https://json-schema.org/draft/2020-12/schema",
							"additionalProperties": false,
							"properties": {
								"message": {
									"type": "string"
								}
							},
							"required": ["message"],
							"type": "object"
						},
						"hash": "5f0b6721c24ee020a872a1438dfbe030616abeaf0964c1262610ca896e3c402a"
					}
				},
				"projectionIR": {
					"artifactVersion": "1.0.0",
					"projections": {
						"latest_messages": {
							"projectionId": "latest_messages",
							"strategy": "from_collection",
							"sourceRef": {
								"projectionId": "latest_messages",
								"path": "domain.projections.latest_messages",
								"strategy": "from_collection"
							},
							"collectionId": "messages",
							"fields": [
								{
									"source": "id",
									"as": "id"
								},
								{
									"source": "message",
									"as": "message"
								}
							],
							"sort": [
								{
									"field": "created_at",
									"direction": "desc"
								}
							],
							"pagination": {
								"mode": "page",
								"pageArg": "page",
								"pageSizeArg": "page_size",
								"defaultPage": 1,
								"defaultPageSize": 10,
								"maxPageSize": 50
							}
						},
						"messages_with_authors": {
							"projectionId": "messages_with_authors",
							"strategy": "from_collection",
							"sourceRef": {
								"projectionId": "messages_with_authors",
								"path": "domain.projections.messages_with_authors",
								"strategy": "from_collection"
							},
							"collectionId": "messages",
							"fields": [
								{
									"source": "author_name",
									"as": "author_name"
								},
								{
									"source": "id",
									"as": "id"
								}
							],
							"sort": [
								{
									"field": "author_name",
									"direction": "asc"
								}
							],
							"pagination": {
								"mode": "page",
								"pageArg": "page",
								"pageSizeArg": "page_size",
								"defaultPage": 1,
								"defaultPageSize": 10,
								"maxPageSize": 50
							}
						}
					},
					"queries": {
						"list_messages": {
							"queryId": "list_messages",
							"projectionId": "latest_messages",
							"allowsAsOf": false,
							"sourceRef": {
								"queryId": "list_messages",
								"path": "queries.0.returns.projection"
							}
						}
					}
				},
				"viewRenderIR": {
					"artifactVersion": "1.0.0",
					"nodes": {
						"messages_list": {
							"id": "messages_list",
							"type": "list",
							"propPlans": {},
							"children": [],
							"interactions": {}
						}
					},
					"screens": {
						"home": {
							"id": "home",
							"data": {
								"messages": {
									"queryId": "list_messages",
									"refreshOnSignals": ["message.created", "message.deleted"]
								}
							},
							"rootNodeIds": []
						}
					},
					"screenOrder": ["home"],
					"nodeOrder": ["messages_list"],
					"nodeIntentPlans": {
						"messages_list": {
							"nodeId": "messages_list",
							"interactionPlans": {}
						}
					}
				},
				"domainRuntimeIR": {
					"artifactVersion": "1.0.0",
					"actions": {
						"guestbook.submit": {
							"actionId": "guestbook.submit",
							"steps": [],
							"session": {
								"onSuccess": "preserve",
								"onFailure": "preserve"
							}
						}
					},
					"mutations": {
						"submit_message": {
							"entrypointId": "submit_message",
							"actionId": "guestbook.submit",
							"inputBindings": {
								"message": {
									"kind": "input",
									"path": "message"
								}
							}
						}
					},
					"queries": {
						"list_messages": {
							"queryId": "list_messages"
						}
					},
					"flows": {
						"rejection_followup": {
							"flowId": "rejection_followup"
						}
					}
				},
				"sessionIR": {
					"artifactVersion": "1.0.0",
					"fields": {},
					"defaults": {}
				}
			},
			"artifactHash": "37aa04c94d81c69dafa3772052b01ae399c269b9926754fd9a6acc01d19b49ca"
		},
		"scenarioIR": {
			"artifactId": "CompiledScenarioPlanSet",
			"artifactVersion": "1.0.0",
			"lane": "quality",
			"hashAlgorithm": "sha256",
			"payload": {
				"artifactVersion": "1.0.0",
				"sectionHash": "e0a39c6933bc52dd3fac973c07b49d388c985e09b0e9224e48c84420228ac7b3",
				"personas": {
					"frustrated_enterprise_buyer": {
						"personaId": "frustrated_enterprise_buyer",
						"description": "Senior ops manager with low patience who expects direct answers.",
						"traits": {},
						"history": [],
						"tags": []
					}
				},
				"scenarios": {
					"happy_path_message_submission": {
						"scenarioId": "happy_path_message_submission",
						"tags": [],
						"context": {
							"personaId": "frustrated_enterprise_buyer"
						},
						"steps": [
							{
								"kind": "trigger",
								"trigger": {
									"entrypointKind": "mutation",
									"entrypointId": "submit_message"
								}
							},
							{
								"kind": "expect",
								"expect": {
									"kind": "query",
									"queryId": "list_messages"
								}
							},
							{
								"kind": "expect",
								"expect": {
									"kind": "projection",
									"projectionId": "latest_messages"
								}
							},
							{
								"kind": "expect",
								"expect": {
									"kind": "flow",
									"flowId": "rejection_followup"
								}
							}
						]
					}
				},
				"artifactHash": "07afb6be3b15308acd6136a06b0ea408b098b097c1fc1a1c5cd3f6f17c12ad24"
			},
			"artifactHash": "d8c778097fd3d9691ae7b4d1d933d5b968d39a0455f871273841be301ddaa0e8"
		},
		"sessionIR": {
			"artifactId": "CompiledSessionIR",
			"artifactVersion": "1.0.0",
			"lane": "runtime",
			"hashAlgorithm": "sha256",
			"payload": {
				"artifactVersion": "1.0.0",
				"fields": {},
				"defaults": {}
			},
			"artifactHash": "f2551fae752500ca6218f1fc15acaac01882c809b9c2912907e6e3c8c5607b7c"
		},
		"viewRenderIR": {
			"artifactId": "CompiledViewRenderIR",
			"artifactVersion": "1.0.0",
			"lane": "runtime",
			"hashAlgorithm": "sha256",
			"payload": {
				"artifactVersion": "1.0.0",
				"nodes": {
					"messages_list": {
						"id": "messages_list",
						"type": "list",
						"propPlans": {},
						"children": [],
						"interactions": {}
					}
				},
				"screens": {
					"home": {
						"id": "home",
						"data": {
							"messages": {
								"queryId": "list_messages",
								"refreshOnSignals": ["message.created", "message.deleted"]
							}
						},
						"rootNodeIds": []
					}
				},
				"screenOrder": ["home"],
				"nodeOrder": ["messages_list"],
				"nodeIntentPlans": {
					"messages_list": {
						"nodeId": "messages_list",
						"interactionPlans": {}
					}
				}
			},
			"artifactHash": "2d730545cc4d3716fd921f4d8c5455bcde78b8e7a56d45039134487a9d6c7cef"
		}
	},
	"projectionIR": {
		"artifactVersion": "1.0.0",
		"projections": {
			"latest_messages": {
				"projectionId": "latest_messages",
				"strategy": "from_collection",
				"sourceRef": {
					"projectionId": "latest_messages",
					"path": "domain.projections.latest_messages",
					"strategy": "from_collection"
				},
				"collectionId": "messages",
				"fields": [
					{
						"source": "id",
						"as": "id"
					},
					{
						"source": "message",
						"as": "message"
					}
				],
				"sort": [
					{
						"field": "created_at",
						"direction": "desc"
					}
				],
				"pagination": {
					"mode": "page",
					"pageArg": "page",
					"pageSizeArg": "page_size",
					"defaultPage": 1,
					"defaultPageSize": 10,
					"maxPageSize": 50
				}
			},
			"messages_with_authors": {
				"projectionId": "messages_with_authors",
				"strategy": "from_collection",
				"sourceRef": {
					"projectionId": "messages_with_authors",
					"path": "domain.projections.messages_with_authors",
					"strategy": "from_collection"
				},
				"collectionId": "messages",
				"fields": [
					{
						"source": "author_name",
						"as": "author_name"
					},
					{
						"source": "id",
						"as": "id"
					}
				],
				"sort": [
					{
						"field": "author_name",
						"direction": "asc"
					}
				],
				"pagination": {
					"mode": "page",
					"pageArg": "page",
					"pageSizeArg": "page_size",
					"defaultPage": 1,
					"defaultPageSize": 10,
					"maxPageSize": 50
				}
			}
		},
		"queries": {
			"list_messages": {
				"queryId": "list_messages",
				"projectionId": "latest_messages",
				"allowsAsOf": false,
				"sourceRef": {
					"queryId": "list_messages",
					"path": "queries.0.returns.projection"
				}
			}
		}
	},
	"viewRenderIR": {
		"artifactVersion": "1.0.0",
		"nodes": {
			"messages_list": {
				"id": "messages_list",
				"type": "list",
				"propPlans": {},
				"children": [],
				"interactions": {}
			}
		},
		"screens": {
			"home": {
				"id": "home",
				"data": {
					"messages": {
						"queryId": "list_messages",
						"refreshOnSignals": ["message.created", "message.deleted"]
					}
				},
				"rootNodeIds": []
			}
		},
		"screenOrder": ["home"],
		"nodeOrder": ["messages_list"],
		"nodeIntentPlans": {
			"messages_list": {
				"nodeId": "messages_list",
				"interactionPlans": {}
			}
		}
	},
	"domainRuntimeIR": {
		"artifactVersion": "1.0.0",
		"actions": {
			"guestbook.submit": {
				"actionId": "guestbook.submit",
				"steps": [],
				"session": {
					"onSuccess": "preserve",
					"onFailure": "preserve"
				}
			}
		},
		"mutations": {
			"submit_message": {
				"entrypointId": "submit_message",
				"actionId": "guestbook.submit",
				"inputBindings": {
					"message": {
						"kind": "input",
						"path": "message"
					}
				}
			}
		},
		"queries": {
			"list_messages": {
				"queryId": "list_messages"
			}
		},
		"flows": {
			"rejection_followup": {
				"flowId": "rejection_followup"
			}
		}
	},
	"sessionIR": {
		"artifactVersion": "1.0.0",
		"fields": {},
		"defaults": {}
	},
	"scenarioIR": {
		"artifactVersion": "1.0.0",
		"sectionHash": "e0a39c6933bc52dd3fac973c07b49d388c985e09b0e9224e48c84420228ac7b3",
		"personas": {
			"frustrated_enterprise_buyer": {
				"personaId": "frustrated_enterprise_buyer",
				"description": "Senior ops manager with low patience who expects direct answers.",
				"traits": {},
				"history": [],
				"tags": []
			}
		},
		"scenarios": {
			"happy_path_message_submission": {
				"scenarioId": "happy_path_message_submission",
				"tags": [],
				"context": {
					"personaId": "frustrated_enterprise_buyer"
				},
				"steps": [
					{
						"kind": "trigger",
						"trigger": {
							"entrypointKind": "mutation",
							"entrypointId": "submit_message"
						}
					},
					{
						"kind": "expect",
						"expect": {
							"kind": "query",
							"queryId": "list_messages"
						}
					},
					{
						"kind": "expect",
						"expect": {
							"kind": "projection",
							"projectionId": "latest_messages"
						}
					},
					{
						"kind": "expect",
						"expect": {
							"kind": "flow",
							"flowId": "rejection_followup"
						}
					}
				]
			}
		},
		"artifactHash": "07afb6be3b15308acd6136a06b0ea408b098b097c1fc1a1c5cd3f6f17c12ad24"
	},
	"refreshSubscriptions": {
		"list_messages": {
			"queryId": "list_messages",
			"signalIds": ["message.created", "message.deleted"]
		}
	},
	"accessPlan": {
		"defaultPolicy": "deny",
		"knownRoles": ["admin", "anonymous", "authenticated"],
		"roleDefinitions": {
			"admin": {
				"roleId": "admin",
				"extends": [],
				"deriveRules": []
			},
			"anonymous": {
				"roleId": "anonymous",
				"extends": [],
				"deriveRules": []
			},
			"authenticated": {
				"roleId": "authenticated",
				"extends": [],
				"deriveRules": []
			}
		},
		"entrypointRoles": {
			"query:list_messages": ["authenticated"],
			"mutation:submit_message": ["authenticated"]
		}
	},
	"schemaArtifacts": {
		"entrypoint.query.list_messages.input": {
			"target": "draft-2020-12",
			"schema": {
				"~standard": {
					"jsonSchema": {},
					"vendor": "zod",
					"version": 1
				},
				"$schema": "https://json-schema.org/draft/2020-12/schema",
				"additionalProperties": false,
				"properties": {
					"page": {
						"maximum": 9007199254740991,
						"minimum": -9007199254740991,
						"type": "integer"
					},
					"page_size": {
						"maximum": 9007199254740991,
						"minimum": -9007199254740991,
						"type": "integer"
					},
					"q": {
						"type": "string"
					}
				},
				"type": "object"
			},
			"hash": "16955f1a4ce08a1bac4e5a7a90fb699ea8e53504d9112a96bda8b5dc380d040d"
		},
		"entrypoint.mutation.submit_message.input": {
			"target": "draft-2020-12",
			"schema": {
				"~standard": {
					"jsonSchema": {},
					"vendor": "zod",
					"version": 1
				},
				"$schema": "https://json-schema.org/draft/2020-12/schema",
				"additionalProperties": false,
				"properties": {
					"message": {
						"type": "string"
					}
				},
				"required": ["message"],
				"type": "object"
			},
			"hash": "5f0b6721c24ee020a872a1438dfbe030616abeaf0964c1262610ca896e3c402a"
		}
	},
	"artifactHash": "69f1b9c0e87d7530e07e3280a8629e3045c6d3666e249466009422c684277342"
}
